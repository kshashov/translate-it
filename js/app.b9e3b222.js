(function(e){function t(t){for(var r,a,o=t[0],c=t[1],l=t[2],d=0,m=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&m.push(n[a][0]),n[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],r=!0,o=1;o<s.length;o++){var c=s[o];0!==n[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=s[0]))}return e}var r={},n={app:0},i=[];function a(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=r,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(s,r,function(t){return e[t]}.bind(null,r));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/translate-it/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},5146:function(e,t,s){"use strict";var r=s("55e5"),n=s.n(r);n.a},"55e5":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("d3b7"),s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e"),n=s("ce5b"),i=s.n(n);s("bf40");r["default"].use(i.a);var a=new i.a({theme:{themes:{light:{primary:"#5C6BC0",secondary:"#424242",accent:"#fa4081",error:"#FF5252",info:"#2196F3",success:"#349037",warning:"#FFC107",background:"#eff0f5"}}}}),o="accessToken",c="https://translate-it-api.herokuapp.com",l="https://kshashov.github.io/translate-it",u=l+"/oauth2/redirect",d="api/langs",m="api/tags",v="api/roles",p="api/userAnswers",f="/api/exercises",h="/api/exercises/public",x="/api/exercises/stats",g="/api/exercises/:exerciseId",b="/api/exercises/:exerciseId/steps",_="api/oauthClients",w="api/users",y="api/users/:userId",$="api/users/me",E="api/users/:userId/role",k=(s("ac1f"),s("5319"),s("96cf"),s("1da1")),S=s("2f62");function j(){return localStorage.getItem(o)?Nr({url:$,method:"GET"}):Promise.reject(new Error("No access token set."))}s("b0c0");var O=s("8c4f"),C=(s("caad"),s("2532"),s("2b52")),A=s("4b58"),q={solveExercises:"SOLVE_EXERCISES",manageUsers:"MANAGE_USERS",manageExercises:"MANAGE_EXERCISES"},L=new A["a"],T=function(e){var t=function(t){return!!e.permissions.includes(t)},s=Object(A["b"])((function(s,r){s("view","Home"),s("view","Login"),s("view","OAuth2RedirectHandler"),s("view","NotFound"),s("view","Exercise"),e&&(r("view","Login"),s("view","Logout"),s("view","Profile"),t(q.solveExercises)&&s("solve","Exercise"),t(q.manageUsers)&&(s("view","Admin"),s("view","UsersAdmin")),t(q.manageExercises)&&(s("view","Admin"),s("view","ExercisesAdmin"),s("view","ExerciseEdit")))})).rules;L.update(s)},F=null;T(F),r["default"].use(C["a"],L);var P=L,U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fragment",[s("v-row",{attrs:{justify:"start"}},[s("v-col",{attrs:{cols:"12"}},[s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("v-combobox",{attrs:{items:e.tags,label:"Category",loading:!e.tags,"item-text":"title","hide-details":"","return-object":"",clearable:"",outlined:"",dense:""},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item;return[s("v-badge",{attrs:{content:e.exercisesStats.byTags[r.id],value:!!e.exercisesStats&&e.exercisesStats.byTags[r.id],inline:""}},[e._v(e._s(r.title)+" ")])]}}]),model:{value:e.options.tag,callback:function(t){e.$set(e.options,"tag",t)},expression:"options.tag"}})],1),s("v-col",{attrs:{cols:"4"}},[s("v-combobox",{attrs:{items:e.langs,label:"From",loading:!e.langs,"item-text":"title","hide-details":"","return-object":"",clearable:"",outlined:"",dense:""},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item;return[s("v-badge",{attrs:{content:e.exercisesStats.byFrom[r.id],value:!!e.exercisesStats&&e.exercisesStats.byFrom[r.id],inline:""}},[e._v(e._s(r.title)+" ")])]}}]),model:{value:e.options.from,callback:function(t){e.$set(e.options,"from",t)},expression:"options.from"}})],1),s("v-col",{attrs:{cols:"4"}},[s("v-combobox",{attrs:{items:e.langs,label:"To",loading:!e.langs,"item-text":"title","hide-details":"","return-object":"",clearable:"",outlined:"",dense:""},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item;return[s("v-badge",{attrs:{content:e.exercisesStats.byTo[r.id],value:!!e.exercisesStats&&e.exercisesStats.byTo[r.id],inline:""}},[e._v(e._s(r.title)+" ")])]}}]),model:{value:e.options.to,callback:function(t){e.$set(e.options,"to",t)},expression:"options.to"}})],1)],1),s("v-row",e._l(e.exercises,(function(e){return s("v-col",{key:e.id,attrs:{cols:"6",xl:"4"}},[s("ExerciseCard",{attrs:{exercise:e}})],1)})),1),s("v-pagination",{attrs:{length:e.totalExercises,"total-visible":5},model:{value:e.options.page,callback:function(t){e.$set(e.options,"page",t)},expression:"options.page"}})],1)],1)],1)},I=[],D=s("5530"),R={mounted:function(){this.loadLangs()},computed:Object(D["a"])({},Object(S["e"])("langs",["langs"])),methods:Object(D["a"])({},Object(S["b"])("langs",["loadLangs"]))},H={mounted:function(){this.loadTags()},computed:Object(D["a"])({},Object(S["e"])("tags",["tags"])),methods:Object(D["a"])({},Object(S["b"])("tags",["loadTags"]))},B={mounted:function(){this.loadExercisesStats()},computed:Object(D["a"])({},Object(S["e"])("exercisesStats",["exercisesStats"])),methods:Object(D["a"])({},Object(S["b"])("exercisesStats",["loadExercisesStats"]))},N=s("9b02"),M=s.n(N),W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.exercise?s("v-card",{attrs:{elevation:"0"}},[s("v-card-subtitle",[s("v-row",{staticClass:"ma-0"},[s("v-col",{staticClass:"pa-0"},[s("span",{staticClass:"text-overline"},[e._v(" "+e._s(e.exercise.from.code)+" ⮕ "+e._s(e.exercise.to.code)+" ")])]),s("v-spacer"),e.exercise.userScore?s("v-col",{staticClass:"pa-0 d-flex justify-end align-center"},[e.exercise.userScore===e.exercise.stepsTotal?s("v-chip",{attrs:{color:"accent",outlined:"",small:""}},[e._v(" Completed ")]):s("v-progress-circular",{attrs:{rotate:270,size:25,width:5,value:100*e.exercise.userScore/e.exercise.stepsTotal,color:"primary"}})],1):e._e()],1)],1),s("v-card-title",{staticClass:"py-0"},[s("a",[s("router-link",{staticClass:"text-decoration-none",attrs:{to:{name:"Exercise",params:{id:e.exercise.id}}}},[e._v(" "+e._s(e.exercise.title)+" ")])],1)]),s("v-card-text",{staticClass:"py-0"},[e._v(" "+e._s(e.exercise.stepsTotal)+" Steps ")]),s("v-card-text",e._l(e.exercise.tags,(function(t){return s("v-chip",{key:t.id,staticClass:"ma-1",attrs:{small:""}},[e._v(" "+e._s(t.title)+" ")])})),1)],1):e._e()},G=[],Y={name:"ExerciseCard",props:{exercise:{type:Object,required:!0}},methods:{open:function(){this.$router.push({name:"Exercise",params:{id:this.exercise.id}})}}},z=Y,J=s("2877"),V=Object(J["a"])(z,W,G,!1,null,"5eb3a58a",null),X=V.exports,K=s("3f08"),Q={computed:Object(D["a"])({},Object(S["e"])("appBar",["title","loading","search","searchPlaceHolder","searchEnabled"])),methods:Object(D["a"])({},Object(S["d"])("appBar",["setTitle","setLoading","startLoading","stopLoading","showSearch","hideSearch","setSearchText"]))},Z={name:"Home",mixins:[R,H,B,Q],data:function(){return{totalExercises:0,exercises:[],options:{page:1,itemsPerPage:12,from:void 0,to:void 0,tag:void 0}}},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0,immediate:!0}},methods:{getDataFromApi:function(){var e=this;return this.startLoading(),this.$http({url:h,method:"GET",params:{page:this.options.page-1,size:this.options.itemsPerPage,from:M()(this.options,"from.id"),to:M()(this.options,"to.id"),tag:M()(this.options,"tag.id")}}).then((function(t){e.exercises=t.items,e.totalExercises=t.totalPages})).catch((function(t){e.exercises=[]})).finally((function(){return e.stopLoading()}))}},components:{ExerciseCard:X,Fragment:K["a"]}},ee=Z,te=Object(J["a"])(ee,U,I,!1,null,"5352532f",null),se=te.exports,re=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-col",{staticClass:"pa-0",attrs:{cols:"12",sm:"7"}},[s("profile-form",{ref:"profileForm",attrs:{item:e.user,"on-save":e.onSave,invalid:e.invalid},on:{"update:invalid":function(t){e.invalid=t}}}),s("v-btn",{attrs:{disabled:e.invalid,color:"success"},on:{click:e.save}},[e._v(" Save ")])],1)},ne=[],ie=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fragment",[s("v-text-field",{attrs:{value:e.user.client,label:"Auth Provider",disabled:""}}),s("v-text-field",{attrs:{value:e.user.email,label:"Email",disabled:""}}),s("v-text-field",{attrs:{"error-messages":e.nameErrors,label:"Name",required:""},model:{value:e.$v.user.name.$model,callback:function(t){e.$set(e.$v.user.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.user.name.$model"}}),s("v-text-field",{attrs:{value:e.user.role.title,label:"Role",disabled:""}})],1)},ae=[],oe=s("1dce"),ce=s("b5ae"),le=s("0644"),ue=s.n(le),de={watch:{"$v.$invalid":{handler:function(e){this.$emit("update:invalid",e)},immediate:!0},"$v.$anyDirty":{handler:function(e){this.$emit("update:dirty",e)},immediate:!0}}},me={name:"ProfileForm",mixins:[oe["validationMixin"],de],validations:{user:{name:{required:ce["required"],minLength:Object(ce["minLength"])(3)}}},props:{item:{type:Object,required:!0},onSave:{type:Function,required:!0}},data:function(){return{user:void 0}},computed:{nameErrors:function(){var e=[];return!this.$v.user.name.required&&e.push("Name is required."),!this.$v.user.name.minLength&&e.push("Name must have at least 3 letters"),e}},watch:{item:{handler:function(e){this.user=e?ue()(e):void 0},immediate:!0}},methods:{save:function(){this.$v.$touch(),this.$v.$invalid||this.onSave(this.user)}},components:{Fragment:K["a"]}},ve=me,pe=Object(J["a"])(ve,ie,ae,!1,null,"5c89d7da",null),fe=pe.exports,he={name:"Profile",components:{ProfileForm:fe},data:function(){return{invalid:!1,user:void 0}},beforeMount:function(){this.user=this.$store.state.user.info},methods:{save:function(){this.$refs.profileForm.save()},onSave:function(e){var t=this;this.$http({method:"POST",url:Pr(y,{userId:e.id}),data:{name:e.name}}).then((function(e){Ur.success("User profile has been updated"),t.$store.dispatch("init")}))}}},xe=he,ge=Object(J["a"])(xe,re,ne,!1,null,"48604f03",null),be=ge.exports,_e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fragment",[s("v-breadcrumbs",{attrs:{items:e.links,exact:"",large:""}}),e.loading?e._e():s("div",{staticClass:"mx-4"},[s("ExerciseSummary",{attrs:{exercise:e.exercise,steps:e.steps}}),e.canSolveExercise?s("ExerciseSolver",{attrs:{exercise:e.exercise,steps:e.steps,answers:e.answers}}):s("v-row",[s("v-col",{staticClass:"text-center pa-4",attrs:{cols:"12"}},[s("div",{staticClass:"text-uppercase text-subtitle-1 py-4"},[e._v("Words")]),e._l(e.words,(function(t){return s("div",{key:t.id,staticClass:"text-subtitle-1"},[s("span",{staticClass:"font-weight-bold"},[e._v(e._s(t.source))]),e._v(" – "+e._s(t.translation)+" ")])}))],2),s("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[e.authenticated?s("p",{staticClass:"subtitle-1"},[e._v(" You have no access to solve exercises ")]):s("v-btn",{attrs:{color:"primary",large:""},on:{click:function(t){return e.setShowLogin(!0)}}},[e._v("Login ")])],1)],1)],1)],1)},we=[],ye=(s("5db7"),s("73d9"),s("a9e3"),s("3ca3"),s("ddb0"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",[s("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[s("div",{staticClass:"text-h5"},[s("v-badge",{attrs:{content:e.languages,color:"grey"}},[e._v(" "+e._s(e.exercise.title)+" ")])],1)]),s("v-col",{attrs:{cols:"12"}},[s("v-sheet",{staticClass:"pa-4",attrs:{shaped:""}},[s("v-subheader",[e._v("Text")]),s("blockquote",{staticClass:"blockquote"},[e._v(" "+e._s(e.text))]),s("v-subheader",[e._v("Categories")]),e._l(e.exercise.tags,(function(t){return s("v-tooltip",{key:t.id,attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on;return[s("v-chip",e._g({staticClass:"ma-1",attrs:{color:"primary",outlined:""}},n),[e._v(" "+e._s(t.title)+" ")])]}}],null,!0)},[e._v(" "+e._s(t.title)+" ")])}))],2)],1)],1)}),$e=[],Ee=(s("a15b"),s("d81d"),{name:"ExerciseSummary",props:{exercise:{type:Object,required:!0},steps:{type:Array,required:!0}},computed:{text:function(){return this.steps.map((function(e){return e.text})).join(" ")},languages:function(){return this.exercise.from.code+" ⮕ "+this.exercise.to.code}}}),ke=Ee,Se=Object(J["a"])(ke,ye,$e,!1,null,"54c2e2a3",null),je=Se.exports,Oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fragment",[s("div",{staticClass:"text-center text-h6 my-4 text-overline"},[s("v-chip",{attrs:{color:"accent",outlined:""}},[e._v("Your score: "+e._s(e.score)+" / "+e._s(e.steps.length))])],1),s("v-stepper",{attrs:{vertical:""},model:{value:e.position,callback:function(t){e.position=t},expression:"position"}},[e._l(e.steps,(function(t,r){return[s("v-stepper-step",{key:"title"+t.id,attrs:{editable:!0,step:r+1}},[s("span",{staticClass:"text-body-1 mb-1"},[e._v(e._s(t.text))]),e.hasAnswers(t.id)&&e.position!==r+1?s("span",{staticClass:"text-h5"},[s("UserAnswerText",{attrs:{answer:e.getLastAnswer(t.id)}})],1):e._e()]),s("v-stepper-content",{key:"content"+t.id,attrs:{step:r+1}},[s("div",{staticClass:"pa-2 mb-2 d-flex"},[s("UserAnswersList",{attrs:{answers:e.answers[t.id]}}),s("v-spacer"),s("AnswersList",{attrs:{answers:t.answers}})],1),s("div",{staticClass:"pb-2"},[s("transition",{attrs:{name:"component-fade",mode:"out-in"}},[e.forceEditMode||!e.hasAnswers(t.id)?s("div",{key:"tr1"},[s("WordsList",{staticClass:"ma-2",attrs:{words:t.words}}),s("v-textarea",{staticClass:"mb-2",attrs:{rows:"1","auto-grow":"","hide-details":"",outlined:""},model:{value:e.$v.answer.$model,callback:function(t){e.$set(e.$v.answer,"$model","string"===typeof t?t.trim():t)},expression:"$v.answer.$model"}}),s("v-btn",{attrs:{color:"primary",disabled:e.$v.answer.$invalid},on:{click:function(s){return e.submitAnswer(t.id,e.answer)}}},[e._v("Submit ")])],1):s("div",{key:"tr2",staticClass:"text-center mb-2"},[s("div",[s("UserAnswer",{attrs:{sources:e.answersWords[r],answer:e.getLastAnswer(t.id)}})],1),s("v-btn",{attrs:{color:"primary"},on:{click:function(s){e.openSubmitForm(e.getLastAnswer(t.id))}}},[e._v("Try again")])],1)])],1)])]}))],2)],1)},Ce=[],Ae=(s("4de4"),s("4fad"),s("1276"),s("4416")),qe=s.n(Ae),Le=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[s("a",e._g(e._b({staticStyle:{color:"grey","border-bottom":"1px dashed"}},"a",n,!1),r),[e._v(" Answers ")])]}}])},[s("v-card",[s("v-card-text",e._l(e.answers,(function(t,r){return s("div",{key:r,staticClass:"ma-2"},[e._v(" "+e._s(t.text)+" ")])})),0)],1)],1)},Te=[],Fe={name:"AnswersList",props:{answers:{type:Array,required:!0}},components:{}},Pe=Fe,Ue=Object(J["a"])(Pe,Le,Te,!1,null,"aa8613a4",null),Ie=Ue.exports,De=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-body-1"},[e._v(" Useful words: "),e._l(e.words,(function(t,r){return s("span",{key:r},[s("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,i=r.attrs;return[s("a",e._g(e._b({staticClass:"font-weight-bold"},"a",i,!1),n),[e._v(e._s(t.source))])]}}],null,!0)},[s("span",{staticClass:"font-weight-bold"},[e._v(e._s(t.translation))])]),r<e.words.length-1?s("span",[e._v(", ")]):e._e()],1)}))],2)},Re=[],He={name:"WordsList",props:{words:{type:Array,required:!0}}},Be=He,Ne=Object(J["a"])(Be,De,Re,!1,null,"335c02f0",null),Me=Ne.exports,We=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.answers.length?s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[s("a",e._g(e._b({staticStyle:{"border-bottom":"1px dashed"}},"a",n,!1),r),[e._v(" Your answers ")])]}}],null,!1,3516432160)},[s("v-card",[s("v-card-text",e._l(e.answersHistory,(function(e,t){return s("div",{key:t,staticClass:"ma-2"},[s("UserAnswerText",{attrs:{answer:e}})],1)})),0)],1)],1):e._e()},Ge=[],Ye=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{style:e.style},[e._v(" "+e._s(e.text)+" ")])},ze=[],Je={name:"UserAnswerText",props:{answer:{type:Object,required:!0}},computed:{style:function(){return{color:this.answer.success?"green":"red"}},text:function(){return this.answer.text}}},Ve=Je,Xe=Object(J["a"])(Ve,Ye,ze,!1,null,"718d980e",null),Ke=Xe.exports,Qe={name:"UserAnswersList",props:{answers:{type:Array,required:!0}},computed:{answersHistory:function(){return this.answers}},methods:{getAnswerColor:function(e){return e.success?"greeb":"red"}},components:{UserAnswerText:Ke}},Ze=Qe,et=Object(J["a"])(Ze,We,Ge,!1,null,"bd2a8190",null),tt=et.exports,st=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fragment",[e.answer.success?e._e():s("div",{staticClass:"text-subtitle-1"},[e._v("There are "),s("span",{staticClass:"word-fail"},[e._v("errors")]),e._v(" in your translation: ")]),s("div",{staticClass:"text-h6 my-4"},[e.answer.success?s("span",{staticClass:"word-success"},[e._v(e._s(e.answer.text))]):e._l(e.words,(function(t,r){return s("span",{key:r,class:[t.fail?"word-fail":"word-success"]},[t.empty?s("span",{staticClass:"pa-1 word-space"},[e._v("...")]):s("span",{staticClass:"py-1"},[e._v(" "+e._s(t.text)+" ")])])}))],2)])},rt=[],nt={name:"UserAnswer",props:{answer:{type:Object,required:!0},sources:{type:Array,required:!0}},computed:{text:function(){return this.answer.text},words:function(){if(!this.answer.success){for(var e=this.answer.text.split(" "),t=[],s=0;s<this.sources.length;s++){var r=0,n=this.sources[s],i=0;t[s]=[];for(var a=0;a<e.length;a++){for(var o=e[a],c=!1,l=r;l<n.length;l++)if(o===n[l]){l>r&&l>a+i&&(i+=l-r-1,t[s].push({fail:!0,empty:!0})),t[s].push({text:o,fail:!1,empty:!1}),r=l+1,c=!0;break}c||t[s].push({text:o,fail:!0,empty:!1})}t[s].length+i<n.length&&t[s].push({fail:!0,empty:!0})}return t[0]}}},components:{Fragment:K["a"]}},it=nt,at=(s("5146"),Object(J["a"])(it,st,rt,!1,null,"98ade98c",null)),ot=at.exports,ct={name:"ExerciseSolver",mixins:[oe["validationMixin"]],props:{exercise:{type:Object,required:!0},steps:{type:Array,required:!0},answers:{type:Object,required:!0}},data:function(){return{position:1,forceEditMode:!1,answer:""}},validations:{answer:{required:ce["required"]}},watch:{position:function(){this.forceEditMode=!1,this.answer=""}},computed:{score:function(){return this.answers?Object.entries(this.answers).filter((function(e){return M()(qe()(e[1]),"success",!1)})).length:0},answersWords:function(){return this.exercise?this.steps.map((function(e){return e.answers.map((function(e){return e.text.split(" ")}))})):[]}},methods:{submitAnswer:function(e,t){var s=this;this.$http.post(p,{userId:this.$store.state.user.info.id,stepId:e,text:t}).then((function(t){s.answers[e].push(t),s.closeSubmitForm()}))},openSubmitForm:function(e){this.answer=e.text,this.forceEditMode=!0},closeSubmitForm:function(){this.forceEditMode=!1},getLastAnswer:function(e){return qe()(this.answers[e])},hasAnswers:function(e){return 0!==this.answers[e].length}},components:{UserAnswer:ot,UserAnswerText:Ke,AnswersList:Ie,WordsList:Me,UserAnswersList:tt,Fragment:K["a"]}},lt=ct,ut=(s("d342"),Object(J["a"])(lt,Oe,Ce,!1,null,"82727c22",null)),dt=ut.exports,mt={name:"Exercise",mixins:[Q],props:{id:{type:[Number,String],required:!0}},data:function(){return{exercise:void 0,steps:void 0,answers:void 0,links:[{text:"Home",to:{name:"Home"},exact:!0},{text:"Exercise",to:{name:"Exercise"},exact:!0}]}},computed:Object(D["a"])({words:function(){return this.steps?this.steps.flatMap((function(e){return e.words})):[]},canSolveExercise:function(){return this.$can("solve","Exercise")}},Object(S["c"])(["authenticated"])),created:function(){this.startLoading()},mounted:function(){var e=this,t=this.$http.get(Pr(g,{exerciseId:this.id})).then((function(t){e.links[1].text=t.title,e.setTitle(t.title),e.exercise=t})),s=this.$http.get(Pr(b,{exerciseId:this.id})).then((function(t){e.steps=t})),r=Promise.resolve();this.$store.getters.authenticated&&(r=this.$http.get(p,{params:{exerciseId:this.id,userId:this.$store.state.user.info.id}}).then((function(t){e.answers=t}))),Promise.all([t,s,r]).then((function(){if(e.answers)for(var t=0;t<e.steps.length;t++){var s=e.steps[t].id;e.answers[s]||e.$set(e.answers,s+"",[])}})).finally((function(){return e.stopLoading()}))},methods:Object(D["a"])({},Object(S["d"])(["setShowLogin"])),components:{ExerciseSolver:dt,ExerciseSummary:je,Fragment:K["a"]}},vt=mt,pt=Object(J["a"])(vt,_e,we,!1,null,null,null),ft=pt.exports,ht=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fragment",[s("user-role-dialog",{attrs:{item:e.editedItem,"on-save":e.updateUser,"on-close":e.closeDialog}}),s("users-table",{ref:"table",attrs:{"on-edit":e.showEditDialog}})],1)},xt=[],gt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.visible?s("v-dialog",{attrs:{"max-width":"500px",fullscreen:e.$vuetify.breakpoint.xsOnly,persistent:""},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[e._v("Edit User")])]),s("v-card-text",[s("user-role-form",{ref:"userRoleForm",attrs:{item:e.item,invalid:e.invalid,"on-save":e.onSave},on:{"update:invalid":function(t){e.invalid=t}}})],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"secondary",text:""},on:{click:e.close}},[e._v("Cancel")]),s("v-btn",{attrs:{color:"success",disabled:e.invalid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()},bt=[],_t=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",[s("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"4",md:"4"}},[s("v-text-field",{attrs:{label:"Auth Provider",disabled:""},model:{value:e.user.client,callback:function(t){e.$set(e.user,"client","string"===typeof t?t.trim():t)},expression:"user.client"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"8",md:"8"}},[s("v-text-field",{attrs:{label:"Name",disabled:""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name","string"===typeof t?t.trim():t)},expression:"user.name"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"12",md:"12"}},[s("v-select",{attrs:{items:e.roles,"error-messages":e.roleErrors,label:"Role",loading:!e.roles,"item-text":"title","return-object":"",clearable:""},model:{value:e.$v.user.role.$model,callback:function(t){e.$set(e.$v.user.role,"$model",t)},expression:"$v.user.role.$model"}})],1)],1)},wt=[],yt={mounted:function(){this.loadRoles()},computed:Object(D["a"])({},Object(S["e"])("roles",["roles"])),methods:Object(D["a"])({},Object(S["b"])("roles",["loadRoles"]))},$t={name:"UserRoleForm",mixins:[oe["validationMixin"],yt,de],props:{item:{type:Object,default:void 0},onSave:{type:Function,required:!0}},data:function(){return{user:void 0}},validations:{user:{role:{required:ce["required"]}}},computed:{visible:function(){return!!this.user},roleErrors:function(){var e=[];return!this.$v.user.role.required&&e.push("Role is required"),e}},watch:{item:{handler:function(e){this.user=e?ue()(e):void 0},immediate:!0}},methods:{save:function(){this.$v.$touch(),this.$v.$invalid||this.onSave(this.user)}}},Et=$t,kt=Object(J["a"])(Et,_t,wt,!1,null,"3a7a549e",null),St=kt.exports,jt={name:"UserRoleDialog",components:{UserRoleForm:St},props:{item:{type:Object,default:void 0},onSave:{type:Function,required:!0},onClose:{type:Function,required:!0}},data:function(){return{invalid:!1}},computed:{visible:function(){return!!this.item}},methods:{save:function(){this.$refs.userRoleForm.save()},close:function(){this.onClose()}}},Ot=jt,Ct=Object(J["a"])(Ot,gt,bt,!1,null,"c0bfb2d0",null),At=Ct.exports,qt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fragment",[s("v-data-table",{attrs:{headers:e.headers,items:e.users,options:e.options,"server-items-length":e.totalUsers,loading:e.dataLoading,"mobile-breakpoint":"0"},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"item.name",fn:function(e){var t=e.item;return[s("user-name",{attrs:{user:t}})]}},{key:"item.role",fn:function(t){var r=t.item;return[s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,i=t.attrs;return[s("v-chip",e._g(e._b({attrs:{color:"primary",small:"",dark:""}},"v-chip",i,!1),n),[e._v(" "+e._s(r.role.title)+" ")])]}}],null,!0)},[e._v(" "+e._s(r.role.description)+" ")])]}},{key:"item.actions",fn:function(t){var r=t.item;return[s("v-icon",{attrs:{small:""},on:{click:function(t){return e.onEdit(r)}}},[e._v(" mdi-pencil ")])]}}])})],1)},Lt=[],Tt=(s("841c"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[e._t("default",[s("v-badge",{attrs:{value:e.sameUser,content:"You",color:"grey",inline:""}},[e._v(" "+e._s(e.user.name)+" ")])],{item:e.user})],2)}),Ft=[],Pt={props:{user:{type:Object,required:!0}},computed:{sameUser:function(){return this.$store.state.user&&this.user.id===this.$store.state.user.info.id}},name:"UserName"},Ut=Pt,It=Object(J["a"])(Ut,Tt,Ft,!1,null,"109aa95c",null),Dt=It.exports,Rt={name:"UsersTable",mixins:[Q],props:{onEdit:{type:Function,required:!0}},data:function(){return{dataLoading:!0,totalUsers:0,users:[],options:{},headers:[{text:"Client",value:"client"},{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Role",value:"role"},{text:"Actions",value:"actions",sortable:!1}]}},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0},search:function(){this.getDataFromApi()}},created:function(){this.showSearch("Search by Name or Email")},methods:{getDataFromApi:function(){var e=this;this.dataLoading=!0;var t=this.options,s=t.sortBy,r=t.sortDesc,n=t.page,i=t.itemsPerPage,a=r[0]?"desc":"asc",o=s[0]||"";return this.$http({url:w,method:"GET",params:{page:n-1,size:i,filter:this.search,sort:o,direction:a}}).then((function(t){e.dataLoading=!1,e.users=t.items,e.totalUsers=t.totalItems})).catch((function(t){e.dataLoading=!1,e.users=[]}))}},components:{UserName:Dt,Fragment:K["a"]}},Ht=Rt,Bt=Object(J["a"])(Ht,qt,Lt,!1,null,"007a9c75",null),Nt=Bt.exports,Mt={name:"UsersAdmin",data:function(){return{editedItem:void 0}},methods:{showEditDialog:function(e){this.editedItem=e},closeDialog:function(){this.editedItem=void 0},updateUser:function(e){var t=this;return this.$http({url:Pr(E,{userId:e.id}),method:"POST",data:JSON.stringify({id:e.role.id})}).then((function(e){Ur.success("User has been updated"),t.$refs.table.getDataFromApi(),t.closeDialog()})).catch((function(){}))}},components:{UsersTable:Nt,UserRoleDialog:At,Fragment:K["a"]}},Wt=Mt,Gt=Object(J["a"])(Wt,ht,xt,!1,null,"270b86f4",null),Yt=Gt.exports,zt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fragment",[s("exercise-dialog",{attrs:{item:e.editedItem,"on-save":e.onCreateExercise,"on-close":e.closeCreateDialog}}),s("exercises-table",{ref:"table",attrs:{"on-delete":e.showDeleteDialog}})],1)},Jt=[],Vt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.visible?s("v-dialog",{attrs:{"max-width":"500px",fullscreen:e.$vuetify.breakpoint.xsOnly,persistent:""},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[e._v("Create Exercise")])]),s("v-card-text",[s("exercise-form",{ref:"exerciseForm",attrs:{item:e.item,invalid:e.invalid,"on-save":this.onSave},on:{"update:invalid":function(t){e.invalid=t}}})],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"secondary",text:""},on:{click:e.close}},[e._v(" Cancel ")]),s("v-btn",{attrs:{disabled:e.invalid,color:"success"},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1):e._e()},Xt=[],Kt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",[s("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[s("v-text-field",{attrs:{"error-messages":e.titleErrors,label:"Title"},model:{value:e.$v.exercise.title.$model,callback:function(t){e.$set(e.$v.exercise.title,"$model","string"===typeof t?t.trim():t)},expression:"$v.exercise.title.$model"}}),s("v-select",{attrs:{items:e.tags,"error-messages":e.tagsErrors,label:"Tags",loading:!e.tags,"item-text":"title","return-object":"",clearable:"","small-chips":"","deletable-chips":"",multiple:""},model:{value:e.$v.exercise.tags.$model,callback:function(t){e.$set(e.$v.exercise.tags,"$model",t)},expression:"$v.exercise.tags.$model"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"6"}},[s("v-select",{attrs:{items:e.langs,"error-messages":e.fromErrors,label:"From",loading:!e.langs,"item-text":"title","return-object":"",clearable:""},model:{value:e.$v.exercise.from.$model,callback:function(t){e.$set(e.$v.exercise.from,"$model",t)},expression:"$v.exercise.from.$model"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"6"}},[s("v-select",{attrs:{items:e.langs,"error-messages":e.toErrors,label:"To",loading:!e.langs,"item-text":"title","return-object":"",clearable:""},model:{value:e.$v.exercise.to.$model,callback:function(t){e.$set(e.$v.exercise.to,"$model",t)},expression:"$v.exercise.to.$model"}})],1)],1)},Qt=[],Zt={name:"ExerciseForm",mixins:[oe["validationMixin"],R,H,de],props:{item:{type:Object,default:void 0},onSave:{type:Function,required:!0}},data:function(){return{exercise:void 0}},validations:{exercise:{title:{required:ce["required"],minLength:Object(ce["minLength"])(3)},from:{required:ce["required"]},to:{required:ce["required"]},tags:{required:ce["required"]}}},computed:{titleErrors:function(){var e=[];return!this.$v.exercise.title.required&&e.push("Title is required"),!this.$v.exercise.title.minLength&&e.push("Title must have at least 3 letters"),e},fromErrors:function(){var e=[];return!this.$v.exercise.from.required&&e.push("From Lang is required"),e},toErrors:function(){var e=[];return!this.$v.exercise.to.required&&e.push("To Lang is required"),e},tagsErrors:function(){var e=[];return!this.$v.exercise.tags.required&&e.push("Tags is required"),e}},watch:{item:{handler:function(e){this.exercise=e?ue()(e):void 0},immediate:!0}},methods:{save:function(){if(this.$v.$touch(),!this.$v.$invalid){var e=Object(D["a"])(Object(D["a"])({},this.exercise),{},{creator:M()(this.exercise,"creator.id"),from:M()(this.exercise,"from.id"),to:M()(this.exercise,"to.id"),tags:M()(this.exercise,"tags",[]).map((function(e){return e.id}))});this.onSave(e)}}}},es=Zt,ts=Object(J["a"])(es,Kt,Qt,!1,null,null,null),ss=ts.exports,rs={name:"ExerciseDialog",components:{ExerciseForm:ss},props:{item:{type:Object,default:void 0},onSave:{type:Function,required:!0},onClose:{type:Function,required:!0}},data:function(){return{invalid:!0}},computed:{visible:function(){return!!this.item}},methods:{save:function(){this.$refs.exerciseForm.save()},close:function(){this.onClose()}}},ns=rs,is=Object(J["a"])(ns,Vt,Xt,!1,null,null,null),as=is.exports,os=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fragment",[s("v-row",[s("v-col",{attrs:{cols:"4",md:"2"}},[s("v-combobox",{attrs:{items:e.tags,label:"Category",loading:!e.tags,"item-text":"title","hide-details":"","return-object":"",clearable:""},model:{value:e.filter.tag,callback:function(t){e.$set(e.filter,"tag",t)},expression:"filter.tag"}})],1),s("v-col",{attrs:{cols:"4",md:"2"}},[s("v-combobox",{attrs:{items:e.langs,label:"From",loading:!e.langs,"item-text":"title","hide-details":"","return-object":"",clearable:""},model:{value:e.filter.from,callback:function(t){e.$set(e.filter,"from",t)},expression:"filter.from"}})],1),s("v-col",{attrs:{cols:"4",md:"2"}},[s("v-combobox",{attrs:{items:e.langs,label:"To",loading:!e.langs,"item-text":"title","hide-details":"","return-object":"",clearable:""},model:{value:e.filter.to,callback:function(t){e.$set(e.filter,"to",t)},expression:"filter.to"}})],1)],1),s("v-data-table",{attrs:{headers:e.headers,items:e.exercises,options:e.options,"server-items-length":e.totalExercises,loading:e.dataLoading,"mobile-breakpoint":"0"},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"item.title",fn:function(t){var r=t.item;return[s("a",[s("router-link",{attrs:{to:{name:"Exercise",params:{id:r.id}},target:"_blank"}},[e._v(" "+e._s(r.title)+" ")])],1)]}},{key:"item.langs",fn:function(t){var s=t.item;return[e._v(" "+e._s(s.from.code)+" — "+e._s(s.to.code)+" ")]}},{key:"item.creator.name",fn:function(e){var t=e.item;return[s("user-name",{attrs:{user:t.creator}})]}},{key:"item.tags",fn:function(t){var r=t.item;return e._l(r.tags,(function(t){return s("v-tooltip",{key:t.id,attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on;return[s("v-chip",e._g({staticClass:"ma-1",attrs:{color:"primary",small:"",dark:""}},n),[e._v(" "+e._s(t.title)+" ")])]}}],null,!0)},[e._v(" "+e._s(t.title)+" ")])}))}},{key:"item.actions",fn:function(t){var r=t.item;return[s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("router-link",{staticClass:"text-decoration-none",attrs:{to:{name:"ExerciseEdit",params:{id:r.id}},target:"_blank"}},[s("v-icon",e._g({staticClass:"mr-2",attrs:{small:""}},n),[e._v(" mdi-pencil ")])],1)]}}],null,!0)},[e._v(" Delete ")]),s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-icon",e._g({attrs:{small:""},on:{click:function(t){return e.onDelete(r)}}},n),[e._v(" mdi-delete ")])]}}],null,!0)},[e._v(" Delete ")])]}}])})],1)},cs=[],ls={name:"ExercisesTable",mixins:[R,H,Q],props:{onDelete:{type:Function,required:!0}},data:function(){return{filter:{from:void 0,to:void 0,tag:void 0},totalExercises:0,exercises:[],dataLoading:!0,options:{},headers:[{text:"Title",value:"title"},{text:"Creator",value:"creator.name"},{text:"Langs",value:"langs",sortable:!1},{text:"Tags",value:"tags",sortable:!1},{text:"Actions",value:"actions",sortable:!1}]}},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0},filter:{handler:function(){this.getDataFromApi()},deep:!0},search:{handler:function(){this.getDataFromApi()},deep:!0}},created:function(){this.showSearch("Search by Title or Creator")},methods:{getDataFromApi:function(){var e=this;this.dataLoading=!0;var t=this.options,s=t.sortBy,r=t.sortDesc,n=t.page,i=t.itemsPerPage;return this.$http({url:f,method:"Get",params:{page:n-1,size:i,sort:s[0],direction:r[0]?"desc":"asc",filter:this.search,from:M()(this.filter,"from.id"),to:M()(this.filter,"to.id"),tag:M()(this.filter,"tag.id")}}).then((function(t){e.dataLoading=!1,e.exercises=t.items,e.totalExercises=t.totalPages})).catch((function(t){e.dataLoading=!1,e.exercises=[]}))}},components:{UserName:Dt,Fragment:K["a"]}},us=ls,ds=Object(J["a"])(us,os,cs,!1,null,"0e7e4b20",null),ms=ds.exports,vs={name:"ExercisesAdmin",data:function(){return{editedSteps:void 0,editedItem:void 0}},created:function(){var e=this;this.$eventBus.$on("createExercise",(function(){e.showCreateDialog()}))},methods:{onCreateExercise:function(e){var t=this;this.$http({url:f,method:"POST",data:JSON.stringify(e)}).then((function(e){Ur.success("Exercise has been created"),t.$refs.table.getDataFromApi(),t.closeCreateDialog()}))},showCreateDialog:function(){this.editedItem={title:void 0,tags:void 0,from:void 0,to:void 0,creator:this.$store.state.user.info}},showDeleteDialog:function(e){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$root.$confirm("Delete","Are you sure?",{color:"info"});case 2:if(!s.sent){s.next=4;break}t.$http({url:Pr(g,{exerciseId:e.id}),method:"DELETE"}).then((function(){Ur.success("Exercise has been deleted"),t.$refs.table.getDataFromApi()}));case 4:case"end":return s.stop()}}),s)})))()},closeCreateDialog:function(){this.editedItem=void 0}},components:{ExercisesTable:ms,ExerciseDialog:as,Fragment:K["a"]}},ps=vs,fs=Object(J["a"])(ps,zt,Jt,!1,null,"e2765b46",null),hs=fs.exports,xs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{attrs:{justify:"center"}},[s("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)},gs=[],bs={name:"OAuth2RedirectHandler",data:function(){return{token:this.$route.query.token,error:this.$route.query.error,from:this.$route.query.from}},created:function(){var e=this;this.token?this.$store.dispatch("login",{token:this.token,from:this.from}).catch((function(){e.showErrorLogin()})):this.showErrorLogin()},methods:Object(D["a"])({showErrorLogin:function(){var e=this;kr.push(this.from||"/").finally((function(){e.setErrorAccess(e.error||"Unexpected error")}))}},Object(S["d"])(["setErrorAccess"]))},_s=bs,ws=Object(J["a"])(_s,xs,gs,!1,null,"207e8151",null),ys=ws.exports,$s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("error-page",{attrs:{status:404,title:"Whoops, 404",text:"The page you were looking for does not exist"}})},Es=[],ks=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{staticClass:"text-center",attrs:{"fill-height":"",fluid:""}},[s("v-row",{attrs:{align:"center"}},[s("v-col",[s("p",{staticClass:"display-2 primary--text"},[e._v(e._s(e.title))]),e.text?s("p",[e._v(e._s(e.text))]):e._e(),e._t("actions",[s("v-btn",{attrs:{to:"/",color:"primary",outlined:""}},[e._v(" Get me out of here! ")])]),e._t("footer")],2)],1)],1)},Ss=[],js={name:"ErrorPage",props:{title:{type:String,required:!0},text:{type:String,default:""},status:{type:Number,required:!0}},created:function(){this.$ssrContext&&this.$ssrContext.res.status(this.props.status)}},Os=js,Cs=Object(J["a"])(Os,ks,Ss,!1,null,"0cdbeb36",null),As=Cs.exports,qs={name:"NotFound",components:{ErrorPage:As}},Ls=qs,Ts=Object(J["a"])(Ls,$s,Es,!1,null,"4f1c4e9d",null),Fs=Ts.exports,Ps=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fragment",[s("v-breadcrumbs",{attrs:{items:e.links,exact:"",large:""}}),e.loading?e._e():s("div",[s("exercise-edit-form",{attrs:{item:e.exercise,"on-save":e.onSaveExercise}}),s("div",{staticClass:"py-4"}),s("steps-edit-form",{attrs:{item:e.steps,"on-save":e.onSaveSteps}})],1)],1)},Us=[],Is=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fragment",[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"7"}},[s("v-card",{attrs:{elevation:"0"}},[s("v-card-text",[s("exercise-form",{ref:"exerciseForm",attrs:{invalid:e.invalid,dirty:e.dirty,item:e.item,"on-save":e.onSave},on:{"update:invalid":function(t){e.invalid=t},"update:dirty":function(t){e.dirty=t}}}),s("v-btn",{attrs:{disabled:e.invalid,color:"success"},on:{click:e.save}},[e._v(" Save Summary ")])],1)],1)],1)],1)],1)},Ds=[],Rs={name:"ExerciseEditForm",props:{item:{type:Object,default:void 0},onSave:{type:Function,required:!0}},data:function(){return{dirty:!1,invalid:!0}},computed:{visible:function(){return!!this.item}},methods:{save:function(){this.$refs.exerciseForm.save()}},components:{Fragment:K["a"],ExerciseForm:ss}},Hs=Rs,Bs=Object(J["a"])(Hs,Is,Ds,!1,null,null,null),Ns=Bs.exports,Ms=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fragment",[s("steps-form",{ref:"stepsForm",attrs:{item:e.item,"on-save":e.onSave,invalid:e.invalid,dirty:e.dirty},on:{"update:invalid":function(t){e.invalid=t},"update:dirty":function(t){e.dirty=t}}}),s("v-btn",{attrs:{disabled:e.invalid,color:"success"},on:{click:e.save}},[e._v(" Save Steps ")])],1)},Ws=[],Gs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fragment",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-input",{attrs:{"error-messages":e.stepsErrors(),"hide-details":0===e.stepsErrors().length}},[s("v-btn",{attrs:{color:"success",text:""},on:{click:function(t){return e.add(0)}}},[e._v(" Add step ")])],1)],1)],1),e._l(e.$v.steps.$each.$iter,(function(t,r){return s("v-row",{key:r},[s("v-col",{attrs:{cols:"12",md:"7"}},[s("v-card",{attrs:{elevation:"0"}},[s("v-card-title",[e._v(" Step #"+e._s(parseInt(r)+1)+" "),s("v-spacer"),s("v-btn",{attrs:{icon:"",small:""},on:{click:function(){e.steps.splice(r,1)}}},[s("v-icon",[e._v("mdi-close")])],1)],1),s("v-card-text",[s("v-textarea",{attrs:{"error-messages":e.textErrors(t),label:"Text",rows:"2","auto-grow":""},model:{value:t.text.$model,callback:function(s){e.$set(t.text,"$model","string"===typeof s?s.trim():s)},expression:"step.text.$model"}}),s("v-row",[s("v-col",{staticClass:"pa-1",attrs:{cols:"12"}},[s("v-card",{attrs:{outlined:""}},[s("v-card-title",{attrs:{inset:""}},[s("v-input",{attrs:{"error-messages":e.answersErrors(t),"hide-details":0===e.answersErrors(t).length}},[s("span",{staticClass:"title"},[e._v("Answers")])]),s("v-spacer"),s("v-btn",{attrs:{color:"success",icon:""},on:{click:function(e){return t.answers.$model.push({text:""})}}},[s("v-icon",[e._v("mdi-plus-circle-outline")])],1)],1),s("v-list",e._l(t.answers.$each.$iter,(function(t,n){return s("v-list-item",{key:n},[s("v-list-item-title",[s("v-textarea",{attrs:{"error-messages":e.answerTextErrors(t),label:"Answer #"+(parseInt(n)+1),rows:"2","auto-grow":""},model:{value:t.text.$model,callback:function(s){e.$set(t.text,"$model","string"===typeof s?s.trim():s)},expression:"answer.text.$model"}})],1),s("v-list-item-action",[s("v-btn",{attrs:{icon:"",small:""},on:{click:function(){e.steps[r].answers.splice(n,1)}}},[s("v-icon",[e._v("mdi-close")])],1)],1)],1)})),1)],1)],1)],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"5"}},[s("v-card",{staticClass:"transparent",attrs:{outlined:""}},[s("span",{staticClass:"overline"},[e._v("Words")]),s("v-btn",{attrs:{color:"success",icon:""},on:{click:function(e){return t.words.$model.push({source:"",translation:""})}}},[s("v-icon",[e._v("mdi-plus-circle-outline")])],1),s("v-list",{staticStyle:{"background-color":"transparent"}},e._l(t.words.$each.$iter,(function(t,n){return s("v-list-item",{key:n,staticClass:"pa-0 ma-0",staticStyle:{"background-color":"transparent"}},[s("v-list-item-title",[s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("v-text-field",{attrs:{"error-messages":e.wordSourceErrors(t),label:"Word #"+(parseInt(n)+1),dense:""},model:{value:t.source.$model,callback:function(s){e.$set(t.source,"$model","string"===typeof s?s.trim():s)},expression:"word.source.$model"}})],1),s("v-col",{attrs:{cols:"6"}},[s("v-text-field",{attrs:{"error-messages":e.wordTranslationErrors(t),label:"Translation #"+(parseInt(n)+1),dense:""},model:{value:t.translation.$model,callback:function(s){e.$set(t.translation,"$model","string"===typeof s?s.trim():s)},expression:"word.translation.$model"}})],1)],1)],1),s("v-list-item-action",[s("v-btn",{attrs:{icon:"",small:""},on:{click:function(){e.steps[r].words.splice(n,1)}}},[s("v-icon",[e._v("mdi-close")])],1)],1)],1)})),1)],1)],1),s("v-col",{attrs:{cols:"12"}},[s("v-btn",{attrs:{color:"success",text:""},on:{click:function(t){return e.add(r+1)}}},[e._v(" Add step ")])],1)],1)}))],2)},Ys=[],zs=(s("a434"),{name:"StepsForm",mixins:[oe["validationMixin"],de],props:{item:{type:Array,default:void 0},onSave:{type:Function,required:!0}},data:function(){return{steps:void 0}},validations:{steps:{required:ce["required"],$each:{text:{required:ce["required"]},answers:{required:ce["required"],$each:{text:{required:ce["required"]}}},words:{$each:{source:{required:ce["required"]},translation:{required:ce["required"]}}}}}},watch:{item:{handler:function(e){this.steps=e?ue()(e):void 0},immediate:!0}},methods:{add:function(e){this.steps.splice(e,0,{text:"",answers:[],words:[]})},save:function(){this.$v.$touch(),this.$v.$invalid||this.onSave(this.steps)},stepsErrors:function(){var e=[];return!this.$v.steps.required&&e.push("Steps list must not be empty"),e},textErrors:function(e){var t=[];return!e.text.required&&t.push("Text is required"),t},answersErrors:function(e){var t=[];return!e.answers.required&&t.push("Answer list must not be empty"),t},answerTextErrors:function(e){var t=[];return!e.text.required&&t.push("Answer is required"),t},wordSourceErrors:function(e){var t=[];return!e.source.required&&t.push("Word is required"),t},wordTranslationErrors:function(e){var t=[];return!e.translation.required&&t.push("Translation is required"),t}},components:{Fragment:K["a"]}}),Js=zs,Vs=Object(J["a"])(Js,Gs,Ys,!1,null,null,null),Xs=Vs.exports,Ks={name:"StepsEditForm",mixins:[oe["validationMixin"]],props:{item:{type:Array,default:void 0},onSave:{type:Function,required:!0}},data:function(){return{invalid:!1,dirty:!1}},methods:{save:function(){this.$refs.stepsForm.save()}},components:{StepsForm:Xs,Fragment:K["a"]}},Qs=Ks,Zs=Object(J["a"])(Qs,Ms,Ws,!1,null,null,null),er=Zs.exports,tr={name:"ExerciseEdit",mixins:[Q],props:{id:{type:[Number,String],required:!0}},data:function(){return{tab:0,exercise:void 0,steps:void 0,links:[{text:"Home",to:{name:"Home"},exact:!0},{text:"Exercise",to:{name:"Exercise"},exact:!0},{text:"Edit",to:{name:"ExerciseEdit"},exact:!0}]}},created:function(){this.startLoading()},mounted:function(){var e=this,t=this.$http.get(Pr(g,{exerciseId:this.id})).then((function(t){e.links[1].text=t.title,e.setTitle(t.title),e.exercise=t})),s=this.$http.get(Pr(b,{exerciseId:this.id})).then((function(t){e.steps=t}));Promise.all([t,s]).finally((function(){return e.stopLoading()}))},methods:{onSaveExercise:function(e){this.$http({url:Pr(g,{exerciseId:e.id}),method:"PUT",data:JSON.stringify(e)}).then((function(e){Ur.success("Exercise has been updated")}))},onSaveSteps:function(e){this.$http({url:Pr(b,{exerciseId:this.exercise.id}),method:"POST",data:JSON.stringify(e)}).then((function(e){Ur.success("Steps have been updated")}))}},components:{StepsEditForm:er,ExerciseEditForm:Ns,Fragment:K["a"]}},sr=tr,rr=(s("72c1"),Object(J["a"])(sr,Ps,Us,!1,null,"5b4e17ee",null)),nr=rr.exports,ir=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-btn",{staticClass:"mr-2",attrs:{color:"accent",small:"",rounded:""},on:{click:e.createExercise}},[s("v-icon",{attrs:{small:"",left:""}},[e._v("mdi-plus")]),e._v(" Create ")],1)},ar=[],or={name:"ExercisesAdminAppBar",methods:{createExercise:function(){this.$eventBus.$emit("createExercise")}}},cr=or,lr=Object(J["a"])(cr,ir,ar,!1,null,"d73c8d5e",null),ur=lr.exports,dr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.canView?s("v-btn",{staticClass:"mr-2",attrs:{color:"accent",small:"",rounded:""},on:{click:e.viewExercise}},[e._v(" View ")]):e._e()},mr=[],vr={name:"ExerciseEditAppBar",props:["id"],computed:{canView:function(){return this.$can("view","Exercise")}},methods:{viewExercise:function(){this.$router.push({name:"Exercise",params:{id:this.id}})}}},pr=vr,fr=Object(J["a"])(pr,dr,mr,!1,null,"acb81cf2",null),hr=fr.exports,xr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.canEdit?s("v-btn",{staticClass:"mr-2",attrs:{color:"accent",small:"",rounded:""},on:{click:e.viewExercise}},[s("v-icon",{attrs:{small:"",left:""}},[e._v("mdi-pencil")]),e._v(" Edit ")],1):e._e()},gr=[],br={name:"ExerciseAppBar",props:["id"],computed:{canEdit:function(){return this.$can("view","ExerciseEdit")}},methods:{viewExercise:function(){this.$router.push({name:"ExerciseEdit",params:{id:this.id}})}}},_r=br,wr=Object(J["a"])(_r,xr,gr,!1,null,"4dd2553c",null),yr=wr.exports,$r=[{path:"/",name:"Home",component:se,meta:{allowAnonymous:!0}},{path:"/profile",name:"Profile",component:be,meta:{title:"My profile"}},{path:"/exercises/:id",name:"Exercise",props:{default:!0,appBarAppend:!0},components:{default:ft,appBarAppend:yr},meta:{allowAnonymous:!0,title:"Exercise"}},{path:"/exercises/:id/edit",name:"ExerciseEdit",props:{default:!0,appBarAppend:!0},components:{default:nr,appBarAppend:hr},meta:{title:"Edit Exercise"}},{path:"/admin/users",name:"UsersAdmin",component:Yt,meta:{title:"Users"}},{path:"/admin/exercises",name:"ExercisesAdmin",components:{default:hs,appBarAppend:ur},meta:{title:"Exercises"}},{path:"/oauth2/redirect",name:"OAuth2RedirectHandler",component:ys,meta:{allowAnonymous:!0}},{path:"*",name:"NotFound",component:Fs,meta:{allowAnonymous:!0,title:"Page not found"}}];r["default"].use(O["a"]);var Er=new O["a"]({base:"/translate-it/",routes:$r,mode:"hash"});Er.beforeEach(function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(t,s,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"OAuth2RedirectHandler"===t.name&&Lr.getters.authenticated?r({name:"Home"}):(t.meta.allowAnonymous||Lr.commit("setShowLogin",!Lr.getters.authenticated),Lr.commit("setHasAccess",P.can("view",t.name)),Lr.commit("appBar/hideSearch"),r());case 1:case"end":return e.stop()}}),e)})));return function(t,s,r){return e.apply(this,arguments)}}()),Er.beforeResolve((function(e,t,s){Lr.commit("appBar/setTitle",e.meta.title),s()}));var kr=Er,Sr={namespaced:!0,state:function(){return{text:"",type:"info"}},mutations:{setSnack:function(e,t){e.text=t.text,e.type=t.type||"info"}},actions:{setInfo:function(e,t){var s=e.commit;s("setSnack",Object(D["a"])(Object(D["a"])({},t),{},{type:"info"}))},setSuccess:function(e,t){var s=e.commit;s("setSnack",Object(D["a"])(Object(D["a"])({},t),{},{type:"success"}))},setError:function(e,t){var s=e.commit;s("setSnack",Object(D["a"])(Object(D["a"])({},t),{},{type:"error"}))}},getters:{}},jr={namespaced:!0,state:function(){return{langs:void 0}},mutations:{setLangs:function(e,t){e.langs=t}},actions:{loadLangs:function(e){var t=e.state,s=e.commit;if(void 0===t.langs)return Nr({url:d,method:"GET"}).then((function(e){s("setLangs",e)}))}},getters:{}},Or={namespaced:!0,state:function(){return{tags:void 0}},mutations:{setTags:function(e,t){e.tags=t}},actions:{loadTags:function(e){var t=e.state,s=e.commit;if(void 0===t.tags)return Nr({url:m,method:"GET"}).then((function(e){s("setTags",e)}))}},getters:{}},Cr={namespaced:!0,state:function(){return{roles:void 0}},mutations:{setRoles:function(e,t){e.roles=t}},actions:{loadRoles:function(e){var t=e.state,s=e.commit;if(void 0===t.roles)return Nr({url:v,method:"GET"}).then((function(e){s("setRoles",e)}))}},getters:{}},Ar={namespaced:!0,state:function(){return{exercisesStats:void 0}},mutations:{setExercisesStats:function(e,t){e.exercisesStats=t}},actions:{loadExercisesStats:function(e){var t=e.commit;return Nr({url:x,method:"GET"}).then((function(e){t("setExercisesStats",e)}))}},getters:{}},qr={namespaced:!0,state:function(){return{title:"Translates",loading:!1,search:"",searchEnabled:!1,searchPlaceHolder:""}},mutations:{setTitle:function(e,t){e.title=t||""},setLoading:function(e,t){e.loading=t},startLoading:function(e){e.loading=!0},stopLoading:function(e){e.loading=!1},showSearch:function(e,t){e.search="",e.searchEnabled=!0,e.searchPlaceHolder=t},hideSearch:function(e){e.search="",e.searchEnabled=!1,e.searchPlaceHolder=""},setSearchText:function(e,t){e.search=t}},actions:{},getters:{}};r["default"].use(S["a"]);var Lr=new S["a"].Store({state:{user:void 0,showLogin:!1,loginError:void 0,hasAccess:!1},getters:{permissions:function(e){return M()(e.user,"permissions")},userInfo:function(e){return M()(e.user,"info")},authenticated:function(e){return!!e.user}},mutations:{login:function(e,t){e.user=t,T(t)},logout:function(e){e.user=void 0,T(null)},setHasAccess:function(e,t){e.hasAccess=t},setErrorAccess:function(e,t){e.loginError=t,e.showLogin=!0},setShowLogin:function(e,t){e.loginError=void 0,e.showLogin=t}},actions:{init:function(e){return Object(k["a"])(regeneratorRuntime.mark((function t(){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=e.commit,t.prev=1,!localStorage.getItem(o)){t.next=7;break}return t.next=5,j();case 5:r=t.sent,s("login",r);case 7:t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](1);case 11:case"end":return t.stop()}}),t,null,[[1,9]])})))()},login:function(e,t){var s=e.commit;return localStorage.setItem(o,t.token),j().then((function(e){s("login",e),kr.push(t.from||"/")}))},logout:function(e){var t=e.commit;localStorage.removeItem(o),t("logout"),kr.push({name:"Home"}).catch((function(){}))}},modules:{snack:Sr,langs:jr,tags:Or,roles:Cr,exercisesStats:Ar,appBar:qr}}),Tr=s("6cd4"),Fr=s.n(Tr),Pr=function(e,t){var s=e;return Fr()(t,(function(e,t){s=s.replace(":".concat(t),e)})),s},Ur={error:function(e){Lr.dispatch("snack/setError",{text:e})},info:function(e){Lr.dispatch("snack/setInfo",{text:e})},success:function(e){Lr.dispatch("snack/setSuccess",{text:e})}},Ir=s("a7fe"),Dr=s.n(Ir),Rr=s("bc3a"),Hr=s.n(Rr),Br=Hr.a.create({baseURL:c,method:"get",headers:{"Content-Type":"application/json"}});Br.interceptors.request.use((function(e){var t=localStorage.getItem(o);return e.headers.Authorization=t?"Bearer ".concat(t):"",e})),Br.interceptors.response.use((function(e){return e.data}),(function(e){if(e.response)return 401===e.response.status?Ur.error("User not found. Try to refresh the page or relogin"):403===e.response.status?Ur.error("You have no permission to perform this action"):e.response.data.message?Ur.error(e.response.data.message):Ur.error("Unexpected error. Try again later"),Promise.reject(e);Ur.error("Unexpected error. Try again later")})),r["default"].use(Dr.a,Br);var Nr=Br,Mr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-flex",[s("confirm",{ref:"confirm"}),s("v-app",{style:{background:e.$vuetify.theme.themes[e.isDark].background}},[s("snackbar"),s("app-bar"),s("LoginDialog"),s("v-main",[s("v-row",{staticClass:"fill-height ma-0",attrs:{justify:"center"}},[s("v-container",{staticClass:"pa-4",staticStyle:{"max-width":"1000px"},attrs:{fluid:""}},[s("protected-component",[s("router-view")],1)],1)],1)],1),s("app-footer")],1)],1)},Wr=[],Gr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[e.canHome?s("v-app-bar-nav-icon",{staticClass:"mr-2"},[s("v-btn",{staticClass:"mx-2",attrs:{to:{name:"Home"},icon:"",text:"",exact:""}},[s("v-icon",[e._v("mdi-home")])],1)],1):e._e(),s("v-toolbar-title",[e._v(e._s(e.title))]),s("v-spacer"),s("v-slide-y-reverse-transition",[e.searchEnabled?[s("v-text-field",{staticClass:"mr-2",staticStyle:{"max-width":"450px"},attrs:{placeholder:e.searchPlaceHolder,"prepend-inner-icon":"mdi-magnify",clearable:"",filled:"",rounded:"",dense:"","hide-details":""},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})]:e._e()],2),s("v-spacer"),s("v-slide-y-reverse-transition",[s("router-view",{attrs:{name:"appBarAppend"}})],1),s("v-progress-linear",{attrs:{indeterminate:"",color:"white",active:e.loading,absolute:"",bottom:""}}),e.canAdmin?s("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[s("v-btn",e._g({attrs:{text:"",small:"",rounded:""}},r),[e._v(" Admin ")])]}}],null,!1,1046938133)},[s("v-list",[e.canUsersAdmin?s("v-list-item",{attrs:{to:{name:"UsersAdmin"}}},[s("v-list-item-title",[e._v("Users")])],1):e._e(),e.canExercisesAdmin?s("v-list-item",{attrs:{to:{name:"ExercisesAdmin"}}},[s("v-list-item-title",[e._v("Exercises")])],1):e._e()],1)],1):e._e(),e.canLogin?s("v-btn",{attrs:{text:"",rounded:""},on:{click:e.login}},[s("span",{staticClass:"mr-2"},[e._v("Sign In")])]):e._e(),e.canLogout?s("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[s("v-btn",e._g({attrs:{color:"white lighten-2",text:"",icon:""}},r),[s("v-icon",[e._v("mdi-account")])],1)]}}],null,!1,3620676843)},[s("v-list",[e.canProfile?s("v-list-item",{attrs:{to:{name:"Profile"}}},[s("v-list-item-title",[e._v("Profile")])],1):e._e(),e.canLogout?s("v-list-item",{on:{click:e.logout}},[s("v-list-item-title",[e._v("Log Out")])],1):e._e()],1)],1):e._e()],1)},Yr=[],zr=s("b047c"),Jr=s.n(zr),Vr={name:"AppBar",mixins:[Q],data:function(){return{searchText:""}},computed:{canAdmin:function(){return this.$can("view","Admin")},canUsersAdmin:function(){return this.$can("view","UsersAdmin")},canExercisesAdmin:function(){return this.$can("view","ExercisesAdmin")},canProfile:function(){return this.$can("view","Profile")},canHome:function(){return this.$can("view","Home")},canLogin:function(){return this.$can("view","Login")},canLogout:function(){return this.$can("view","Logout")}},watch:{search:function(e){this.searchText=e},searchText:Jr()((function(){this.setSearchText(this.searchText||"")}),1e3)},methods:Object(D["a"])({login:function(){this.setShowLogin(!0)},logout:function(e){this.$store.dispatch("logout")}},Object(S["d"])(["setShowLogin"]))},Xr=Vr,Kr=Object(J["a"])(Xr,Gr,Yr,!1,null,null,null),Qr=Kr.exports,Zr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-footer",[s("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[s("v-card-text",{staticClass:"py-2 primary--text text-center"},[e._v(" "+e._s(e.date)+" — "),s("a",{attrs:{href:"https://github.com/kshashov/Translates-Frontend",target:"_blank"}},[e._v("GitHub/kshashov")])])],1)],1)},en=[],tn={name:"AppFooter",data:function(){return{date:(new Date).getFullYear()}}},sn=tn,rn=Object(J["a"])(sn,Zr,en,!1,null,"8fce96d0",null),nn=rn.exports,an=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.hasAccess||e.authenticated?e.hasAccess?s("div",{staticClass:"fill-height"},[e._t("default")],2):s("forbidden"):s("sign-in")},on=[],cn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("error-page",{attrs:{status:403,title:"Whoops, 403",text:"You're not permitted to see this"}})},ln=[],un={name:"Forbidden",data:function(){return{from:this.$route.query.from}},components:{ErrorPage:As}},dn=un,mn=Object(J["a"])(dn,cn,ln,!1,null,"d0ded070",null),vn=mn.exports,pn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("error-page",{attrs:{status:401,title:"Whoops",text:"You need to login to view this content"},scopedSlots:e._u([{key:"actions",fn:function(){return[s("v-btn",{attrs:{color:"primary",outlined:""},on:{click:function(t){return e.setShowLogin(!0)}}},[e._v("Sign In ")])]},proxy:!0}])})},fn=[],hn={name:"SignIn",data:function(){return{from:this.$route.query.from}},methods:Object(D["a"])({},Object(S["d"])(["setShowLogin"])),components:{ErrorPage:As}},xn=hn,gn=Object(J["a"])(xn,pn,fn,!1,null,"79f1453f",null),bn=gn.exports,_n={name:"ProtectedComponent",data:function(){return{}},computed:Object(D["a"])({},Object(S["e"])(["hasAccess","authenticated"])),components:{SignIn:bn,Forbidden:vn}},wn=_n,yn=Object(J["a"])(wn,an,on,!1,null,"767d8bef",null),$n=yn.exports,En=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-snackbar",{attrs:{color:e.color,timeout:e.timeout,top:"","multi-line":""},scopedSlots:e._u([{key:"action",fn:function(){return[s("v-btn",{attrs:{color:"white",icon:"",small:""},nativeOn:{click:function(t){e.show=!1}}},[s("v-icon",[e._v("mdi-close")])],1)]},proxy:!0}]),model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("span",{domProps:{innerHTML:e._s(e.message)}})])},kn=[],Sn={data:function(){return{show:!1,message:"",timeout:3e4,color:"info"}},created:function(){var e=this;this.unsubscribe=this.$store.subscribe((function(t,s){if("snack/setSnack"===t.type){var r=s.snack.text,n=s.snack.type;""!==r&&(e.message=r,e.color=n,e.show=!0)}}))},beforeDestroy:function(){this.unsubscribe()}},jn=Sn,On=Object(J["a"])(jn,En,kn,!1,null,null,null),Cn=On.exports,An=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{style:{zIndex:e.options.zIndex},attrs:{"max-width":e.options.width},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancel(t)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card",[s("v-toolbar",{attrs:{dense:"",flat:""}},[s("v-toolbar-title",[e._v(e._s(e.title))])],1),s("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!e.message,expression:"!!message"}],staticClass:"pa-4"},[e._v(e._s(e.message))]),s("v-card-actions",{staticClass:"pt-0"},[s("v-spacer"),s("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:e.agree}},[e._v("Yes")]),s("v-btn",{attrs:{color:"grey",text:""},on:{click:e.cancel}},[e._v("Cancel")])],1)],1)],1)},qn=[],Ln={data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,options:{color:"primary",width:290,zIndex:200}}},methods:{open:function(e,t,s){var r=this;return this.dialog=!0,this.title=e,this.message=t,this.options=Object.assign(this.options,s),new Promise((function(e,t){r.resolve=e,r.reject=t}))},agree:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.resolve(!1),this.dialog=!1}}},Tn=Ln,Fn=Object(J["a"])(Tn,An,qn,!1,null,null,null),Pn=Fn.exports,Un=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{"max-width":"350",persistent:""},model:{value:e.showLogin,callback:function(t){e.showLogin=t},expression:"showLogin"}},[s("v-card",[s("v-card-title",{staticClass:"headline justify-center"},[e._v("Welcome back")]),s("v-card-text",{staticClass:"text-center"},[e._v(" Sign in using social media to get quick access ")]),e.loginError?s("v-card-text",{staticClass:"text-center",staticStyle:{color:"red"}},[e._v(" "+e._s(e.loginError)+" ")]):e._e(),s("v-card-text",{staticClass:"py-4 px-12"},e._l(e.clients,(function(t){return s("v-btn",{key:t.title,staticClass:"mb-1",attrs:{href:e.getClientUrl(t),color:"primary",block:"",outlined:""}},[e._v(" "+e._s(t.title)+" ")])})),1),s("v-card-actions",{staticClass:"justify-center"},[s("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(t){return e.setShowLogin(!1)}}},[e._v("No, thanks")])],1)],1)],1)},In=[],Dn={name:"LoginDialog",data:function(){return{clients:[]}},created:function(){var e=this;this.$http.get(_).then((function(t){e.clients=t}))},computed:Object(D["a"])({redirectParam:function(){return encodeURIComponent(u+"?from="+encodeURIComponent(this.$route.fullPath))}},Object(S["e"])(["showLogin","loginError"])),methods:Object(D["a"])({getClientUrl:function(e){return c+e.url+"?redirect_uri="+this.redirectParam}},Object(S["d"])(["setShowLogin"]))},Rn=Dn,Hn=Object(J["a"])(Rn,Un,In,!1,null,"385d1afb",null),Bn=Hn.exports,Nn={name:"App",computed:Object(D["a"])({isDark:function(){return this.$vuetify.theme.dark?"dark":"light"}},Object(S["e"])("appBar",["title"])),watch:{title:{handler:function(e){document.title=e||"Translate-It"},immediate:!0}},mounted:function(){this.$root.$confirm=this.$refs.confirm.open},components:{LoginDialog:Bn,ProtectedComponent:$n,AppFooter:nn,AppBar:Qr,Snackbar:Cn,Confirm:Pn}},Mn=Nn,Wn=Object(J["a"])(Mn,Mr,Wr,!1,null,null,null),Gn=Wn.exports;s("d5e8"),s("5363"),s("a101");r["default"].config.productionTip=!1,Lr.dispatch("init").finally((function(){var e=new r["default"]({router:kr,store:Lr,vuetify:a,render:function(e){return e(Gn)}});r["default"].prototype.$eventBus=e,e.$mount("#app")}))},"72c1":function(e,t,s){"use strict";var r=s("9b59"),n=s.n(r);n.a},"9b59":function(e,t,s){},b92c:function(e,t,s){},d342:function(e,t,s){"use strict";var r=s("b92c"),n=s.n(r);n.a}});
//# sourceMappingURL=app.b9e3b222.js.map